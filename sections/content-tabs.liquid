{{ 'component-tabs.css' | asset_url | stylesheet_tag }}
{{ 'component-tabs-content.css' | asset_url | stylesheet_tag }}
{% liquid
   assign type_tabs = section.settings.type_tabs | default: 'underline'
   assign tabs_gap = section.settings.tabs_gap | default: nil
   assign tabs_font_family = section.settings.tabs_font_family | default: 'headings_font'
   assign tab_heading_size = section.settings.tab_heading_size | default: 'body-2'
%}
{%- render 'top-divider', show_top_divider: section.settings.show_top_divider, divider_top_width: section.settings.divider_top_width -%}
<div class="section-content-tabs section-padding section-bg" {% render 'section-attributes' %}>
  <div class="{{ section.settings.section_width }}">
    <tabs-component class="tabs-component grid gap-0 lg:gap-8">
        <div class="tab-scrollable flex justify-{{ section.settings.align }} tab-scrollable__{{ type_tabs }}  {% if section.settings.header_position == 'bottom' %} tab-scrollable__bottom {% endif %}">
            <div class="tabs-header gap-x-16 flex relative {{ tab_heading_size }} {% if tabs_font_family == 'headings_font' %} font-heading {% else %} font-body {% endif %}" role="tablist" aria-label="{{ 'products.product.product_information_tab' | t  }}" style="--tabs-gap:{{ tabs_gap | append: 'rem' }};">
                {%- capture uppercase -%}{%- if section.settings.enable_uppercase -%} uppercase {%- endif -%}{%- endcapture -%}
                {%- for block in section.blocks -%}
                    {%- capture selected -%}
                        {%- if forloop.first -%} true {%- else -%} false {%- endif -%}
                    {%- endcapture -%}
                    {%- capture active -%}
                        {%- if forloop.first -%}active{%- endif -%}
                    {%- endcapture -%}
                        <button 
                        class="tab-button {{ active }} {{ uppercase }}" 
                        role="tab" 
                        aria-selected="{{ selected }}" 
                        data-tab="tab-{{ block.id }}" 
                        aria-controls="tab-{{ block.id }}" {{ block.shopify_attributes }}>
                        {{ block.settings.nav_label }}
                    </button>
                {%- endfor -%}
                {%- if type_tabs == 'underline' -%}
                  <div class="indicator"></div>
                {%- endif -%}
            </div>
        </div>
        <div class="tabs-content">
            {%- for block in section.blocks -%}
                {%- case block.type -%}
                    {%- when 'tab' -%}
                      {% liquid 
                        assign image_placement = block.settings.image_placement
                        assign image = block.settings.image
                        assign image_size = block.settings.image_size
                      %}
                        <div 
                          class="tab-content " 
                          role="tabpanel" 
                          id="tab-{{ block.id }}" 
                          aria-labelledby="tab-{{ block.id }}"
                          >
                          <div class="tab-content-inner {% if image_placement != 'none' %} tab-content-inner--image-{{ image_placement }} grid lg:grid-cols-2{% endif %}">
                            {% if image_placement != 'none' %}
                              {% assign sizes = '(min-width: 768px) 50vw, 100vw' %}
                              {% if image != blank %}
                              <div class="tab-content-inner__image {% if image_placement == 'right' %} lg:order-1 {% endif %}">
                                {% render 'responsive-image', image: image, image_aspect_ratio: image_size , sizes: sizes %}
                              </div>
                              {% else %}
                                <div class="tab-content-inner__image {% if image_placement == 'right' %} lg:order-1 {% endif %}">
                                  {% render 'placeholder-image', image_placeholder : 'image', image_aspect_ratio : image_size %}
                                </div>
                              {% endif %}
                            {% endif %}
                            <div class="tab-content-inner-information flex flex-col justify-{{ section.settings.vertical_alignment }} text-{{ section.settings.text_alignment }} tab-content-inner-information-{{ image_placement }}">
                              <div class=" purpose-content">
                                {% if block.settings.subheading != blank %}
                                  <div class="tab-content-inner__subheading sub-heading">
                                    {{ block.settings.subheading }}
                                  </div>
                                {% endif %}
                                {% if block.settings.heading != blank %}
                                <div class="tab-content-inner__heading {{ block.settings.heading_size }} purpose-content__heading">
                                  {{ block.settings.heading }}
                                </div>
                                {% endif %}
                                {% if block.settings.content != blank %}
                                <div class="tab-content-inner__content rte purpose-content__text">
                                  {{  block.settings.content }}
                                </div>
                                {% if block.settings.button_label != blank %}
                                    {%- render 'button',
                                      button_style: block.settings.button_type,
                                      button_text: block.settings.button_label,
                                      button_url:  block.settings.button_link,
                                      button_type: 'link',
                                      show_icon: block.settings.show_icon
                                  -%}
                                {%- endif-%}
                                {% endif %}
                              </div>
                            </div>
                          </div>
                        
                        </div>
                {%- endcase -%}
            {%- endfor -%}
        </div>
    </tabs-component>
  </div>
</div>
{%- render 'bottom-divider', show_bottom_divider: section.settings.show_bottom_divider, divider_bottom_width: section.settings.divider_bottom_width -%}

{% schema %}
{
  "name": "Content Tabs",
  "tag": "section",
  "class": "content-tabs-shopify-section",
  "disabled_on": {
    "groups": ["header", "footer", "aside"]
  },
  "settings": [
    {
        "type": "select",
        "id": "section_width",
        "label": "Width",
        "options": [
            {
            "value": "container",
          "label": "Boxed"
            },
            {
            "value": "container-fluid",
            "label": "Wide"
            },
            {
            "value": "w-full",
            "label": "Full"
            }
        ],
        "default": "container"
      },
      {
        "type": "header",
        "content": "Heading"
      },
      {
        "type": "select",
        "id": "type_tabs",
        "label": "Type tabs",
        "default": "underline",
        "options": [
          {
            "value": "underline",
            "label": "Underline"
          },
          {
            "value": "pill",
            "label": "Pill"
          },
          {
            "value": "text",
            "label": "Text"
          }
        ]
      },
      {
          "type": "checkbox",
          "id": "enable_uppercase",
          "label": "Enable uppercase",
          "default": false
      },
      {
        "type": "select",
        "id": "tabs_font_family",
        "label": "Font family",
        "default": "headings_font",
        "options": [
          {
              "value": "headings_font",
              "label": "Headings font"
          },
          {
              "value": "body_font",
              "label": "Body font"
          }
        ]
      },
      {
        "type": "select",
        "id": "tab_heading_size",
        "label": "Tabs heading size",
        "options": [
          {
            "value": "h1",
            "label": "Heading 1"
          },
          {
            "value": "h2",
            "label": "Heading 2"
          },
          {
            "value": "h3",
            "label": "Heading 3"
          },
          {
            "value": "h4",
            "label": "Heading 4"
          },
          {
            "value": "h5",
            "label": "Heading 5"
          },
          {
            "value": "h6",
            "label": "Heading 6"
          },
          {
            "value": "body-1",
            "label": "Body 1"
          },
          {
            "value": "body-2",
            "label": "Body 2"
          },
          {
            "value": "sub-heading",
            "label": "Caption"
          }
        ],
        "default": "body-2"
      },
      {
        "type": "range",
        "id": "tabs_gap",
        "min": 0.1,
        "max": 6,
        "step": 0.1,
        "default": 4,
        "unit": "rem",
        "label": "Gap (tabs)"
      },
      {
        "type": "select",
        "id": "align",
        "label": "Alignment header tabs",
        "options": [
          {
              "value": "start",
              "label": "Left"
          },
          {
              "value": "center",
              "label": "Center"
          },
          {
              "value": "end",
              "label": "Right"
          }
        ],
        "default": "center"
      },
      {
        "type": "select",
        "id": "header_position",
        "label": "Header position",
        "options": [
          { "value": "top","label": "Top" },
          { "value": "bottom","label": "Bottom" }
        ],
        "default": "top"
      },
      {
        "type": "header",
        "content": "Content"
      },
      {
        "type": "select",
        "id": "text_alignment",
        "label": "Text alignment",
        "options": [
          { "value": "left","label": "Left" },
          { "value": "center","label": "Center" },
          { "value": "right","label": "Right" }
        ],
        "default": "left"
      },
      {
        "type": "select",
        "id": "vertical_alignment",
        "label": "Vertical alignment",
        "options": [
          {
              "value": "start",
              "label": "Top"
          },
          {
              "value": "center",
              "label": "Middle"
          },
          {
              "value": "end",
              "label": "Bottom"
          }
        ],
        "default": "center"
      },
      {
        "type": "header",
        "content": "Colors"
      },
      {
          "type": "color",
          "id": "bg_color",
          "label": "Background"
      },
      {
          "type": "color",
          "id": "text_color",
          "label": "Text"
      },
      {
        "type": "color",
        "id": "border_color",
        "label": "Border color"
      },
      {
        "type": "header",
        "content": "Section padding"
      },
      {
        "type": "range",
        "id": "padding_top",
        "min": 0,
        "max": 100,
        "step": 4,
        "unit": "px",
        "label": "Top padding",
        "default": 36
      },
      {
        "type": "range",
        "id": "padding_bottom",
        "min": 0,
        "max": 100,
        "step": 4,
        "unit": "px",
        "label": "Bottom padding",
        "default": 36
      },
      {
        "type": "header",
        "content": "Section divider"
      },
      {
        "type": "checkbox",
        "id": "show_top_divider",
        "label": "Show top divider",
        "default": false
      },
      {
        "type": "select",
        "id": "divider_top_width",
        "label": "Divider top width",
        "options": [
          {
            "value": "container",
            "label": "Boxed"
          },
          {
            "value": "container-fluid",
            "label": "Wide"
          },
          {
            "value": "w-full",
            "label": "Full"
          }
        ],
        "default": "container"
      },
      {
        "type": "checkbox",
        "id": "show_bottom_divider",
        "label": "Show bottom divider",
        "default": false
      },
      {
        "type": "select",
        "id": "divider_bottom_width",
        "label": "Divider bottom width",
        "options": [
          {
            "value": "container",
            "label": "Boxed"
          },
          {
            "value": "container-fluid",
            "label": "Wide"
          },
          {
            "value": "w-full",
            "label": "Full"
          }
        ],
        "default": "container"
      }
    ],
    "blocks": [
      {
        "type": "tab",
        "name": "Tab",
        "settings": [
          {
            "type": "image_picker",
            "id": "image",
            "label": "Image",
            "info": "1200x1200px recommended"
          },
          {
            "type": "select",
            "id": "image_size",
            "options": [
                { "value": "adapt","label": "Adapt to image" },
                { "value": "square","label": "Square(1:1)" },
                { "value": "portrait","label": "Portrait (2:3)" },
                { "value": "landscape","label": "Landscape (4:3)" },
                { "value": "landscape-v2","label": "Landscape (5:3.5)" },
                { "value": "wide","label": "Wide (16:9)" }
            ],
            "default": "adapt",
            "label": "Image size"
          },
          {
            "type": "select",
            "id": "image_placement",
            "label": "Desktop image placement",
            "options": [
              { "value": "left","label": "Left" },
              { "value": "right","label": "Right" },
              { "value": "none","label": "None" }
            ],
            "default": "left"
          },
          {
            "type": "header",
            "content": "Content"
          },
          {
            "type": "text",
            "id": "nav_label",
            "label": "Navigation label",
            "default": "Navigation tab Label"
          },
          {
            "type": "text",
            "id": "subheading",
            "default": "Subheading",
            "label": "Subheading" 
          },
          {
            "type": "text",
            "id": "heading",
            "default": "Tab Heading",
            "label": "Heading"
          },
          {
            "type": "select",
            "id": "heading_size",
            "label": "Heading size",
            "options": [
              {
                "value": "hxl",
                "label": "Heading Xl"
              },
              {
                "value": "h0",
                "label": "Heading 0"
              },
              {
                "value": "h1",
                "label": "Heading 1"
              },
              {
                "value": "h2",
                "label": "Heading 2"
              },
              {
                "value": "h3",
                "label": "Heading 3"
              },
              {
                "value": "h4",
                "label": "Heading 4"
              },
              {
                "value": "h5",
                "label": "Heading 5"
              },
              {
                "value": "h6",
                "label": "Heading 6"
              }
            ],
            "default": "h2"
          },
          {
            "type": "richtext",
            "id": "content",
            "label": "Content",
            "default": "<p>You can provide details information tab item here.</p>"
          },
          {
            "type": "text",
            "id": "button_label",
            "default": "Button text",
            "label": "Button",
            "info": "Leave the label blank to hide the button."
          },
          {
            "type": "url",
            "id": "button_link",
            "label": "Button link"
          },
          {
            "type": "select",
            "id": "button_type",
            "label": "Button style",
            "options": [
              { "group": "Primary color","value": "primary","label": "Primary" },
              { "group": "Primary color","value": "outline","label": "Outline" },
              { "group": "Primary color","value": "underlined","label": "Underlined" },
              { "group": "White color","value": "primary-white","label": "Solid White" },
              { "group": "White color","value": "outline-white","label": "Outline White" },
              { "group": "White color","value": "underlined-white","label": "Underlined White" },
              { "group": "Accent color","value": "secondary","label": "Secondary" }
            ],
            "default": "primary"
          },
          {
            "type": "checkbox",
            "id": "show_icon",
            "label": "Show arrow icon",
            "default": false
          }
          
        ]
      }
    ],
    "presets": [
      {
        "name": "Content Tabs",
        "blocks": [
          {
            "type": "tab"
          },
          {
            "type": "tab"
          }
        ]
      }
    ]
}
{% endschema %}